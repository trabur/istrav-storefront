import{S as s,i as t,s as i,k as o,e as a,n,c as e,a as c,d as l,b as r,f as p,r as h,u,v as d,z as b,B as m,D as U,E as f,F as g}from"../chunks/vendor-ebfb1990.js";import{a as $,d as k,b as y,h as I,i as E,c as v,s as w}from"../chunks/api-3c9fd495.js";function _(s){let t;const i=s[5].default,o=U(i,s,s[4],null);return{c(){o&&o.c()},l(s){o&&o.l(s)},m(s,i){o&&o.m(s,i),t=!0},p(s,a){o&&o.p&&(!t||16&a)&&f(o,i,s,s[4],a,null,null)},i(s){t||(d(o,s),t=!0)},o(s){h(o,s),t=!1},d(s){o&&o.d(s)}}}function D(s){return{c:g,l:g,m:g,p:g,i:g,o:g,d:g}}function V(s){let t,i,b,U,f;const g=[D,_],$=[];function k(s,t){return s[0]?0:1}return t=k(s),i=$[t]=g[t](s),{c(){i.c(),b=o(),U=a("div"),this.h()},l(s){i.l(s),b=n(s),U=e(s,"DIV",{id:!0}),c(U).forEach(l),this.h()},h(){r(U,"id","code")},m(s,i){$[t].m(s,i),p(s,b,i),p(s,U,i),f=!0},p(s,[o]){let a=t;t=k(s),t===a?$[t].p(s,o):(m(),h($[a],1,1,(()=>{$[a]=null})),u(),i=$[t],i?i.p(s,o):(i=$[t]=g[t](s),i.c()),d(i,1),i.m(b.parentNode,b))},i(s){f||(d(i),f=!0)},o(s){h(i),f=!1},d(s){$[t].d(s),s&&l(b),s&&l(U)}}}async function j({session:s}){return{apiUri:{}.VITE_API_URI,ioUri:{}.VITE_IO_URI,headlessUri:{}.VITE_HEADLESS_URI}}function x(s,t,i){let o,a,n,e,c,{$$slots:l={},$$scope:r}=t,{apiUri:p}=t,{ioUri:h}=t,{headlessUri:u}=t;$.subscribe((s=>{o=s})),k.subscribe((s=>{a=s})),y.subscribe((s=>{n=s})),I.subscribe((s=>{e=s})),E.subscribe((s=>{c=s}));let d=!0;return b((async()=>{if("localhost:7000"===window.location.host?(console.log("using localhost settings:"),k.set("istrav.com"),I.set("http://localhost:9999"),y.set("http://localhost:1337"),E.set("http://localhost:3333")):(console.log("using production settings:"),k.set(window.location.host),I.set(u||"https://farmerless.com"),y.set(p||"https://api.hacktracks.org"),E.set(h||"https://io.hacktracks.org")),console.log(a,n,e,c),v.account.carts.init({host:n}),v.account.orders.init({host:n}),v.account.users.init({host:n}),v.app.blocks.init({host:n}),v.app.faq.init({host:n}),v.app.menus.init({host:n}),v.app.pages.init({host:n}),v.channel.guides.init({host:n}),v.channel.playlists.init({host:n}),v.channel.videos.init({host:n}),v.store.categories.init({host:n}),v.store.collections.init({host:n}),v.store.products.init({host:n}),v.subscription.licenses.init({host:n}),v.subscription.plans.init({host:n}),v.tenant.apps.init({host:n}),v.tenant.members.init({host:n}),a.includes("localhost:7000")&&(a="istrav.com"),a.includes("dimension.click")){let s=a.split(".")[0],t=await w.tenant.apps.getEndpoint(null,s);!0===t.payload.success?$.set(t.payload.data):alert(t.payload.reason)}else{a=a.split(".").slice(-2).join(".");let s=await w.tenant.apps.getOne(null,a,"production");!0===s.payload.success?$.set(s.payload.data):alert(s.payload.reason)}console.log("appData",o),i(0,d=!1)})),s.$$set=s=>{"apiUri"in s&&i(1,p=s.apiUri),"ioUri"in s&&i(2,h=s.ioUri),"headlessUri"in s&&i(3,u=s.headlessUri),"$$scope"in s&&i(4,r=s.$$scope)},[d,p,h,u,r,l]}export default class extends s{constructor(s){super(),t(this,s,x,V,i,{apiUri:1,ioUri:2,headlessUri:3})}}export{j as load};
