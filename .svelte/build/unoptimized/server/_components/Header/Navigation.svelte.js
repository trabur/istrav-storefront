/* src/components/Header/Navigation.svelte generated by Svelte v3.32.1 */
import {
	add_attribute,
	create_ssr_component,
	each,
	escape
} from "../../_snowpack/pkg/svelte/internal.js";

import { onMount } from "../../_snowpack/pkg/svelte.js";

const Navigation = create_ssr_component(($$result, $$props, $$bindings, slots) => {
	let extendNav = false;
	let categoryId = "";
	let items = [];
	let subItems = [];
	let token = null;
	let name = "";

	function setCategoryId(id) {
		extendNav = true;
		categoryId = id;

		subItems = items.filter((value, index) => {
			return value.id === categoryId;
		})[0].children;
	} // console.log('subItems', subItems)

	// sidebars
	let instance;

	let instancePerson;
	let instanceCart;
	let instanceSearch;

	onMount(() => {
		// user
		token = localStorage.getItem("token");

		// main sidebar
		var elem = document.querySelector("#main");

		instance = M.Sidenav.init(elem, { edge: "left" });

		// right sidebars
		var elemPerson = document.querySelector("#person");

		instancePerson = M.Sidenav.init(elemPerson, { edge: "right" });
		var elemCart = document.querySelector("#cart");
		instanceCart = M.Sidenav.init(elemCart, { edge: "right" });
		var elemSearch = document.querySelector("#search");
		instanceSearch = M.Sidenav.init(elemSearch, { edge: "right" });
		let media = window.location.host;

		// navigation request
		fetch(`./media/${media}/data.json`, {
			method: "GET",
			headers: {
				"Content-Type": "application/json",
				"Accept": "application/json"
			}
		}).then(r => r.json()).then(value => {
			console.log("navigation main:", value);
			items = value.menu;
			name = value.name;
		});
	});

	return `<nav${add_attribute("class", extendNav ? `nav-extended` : "", 0)}><div class="${"nav-wrapper"}"><ul class="${"left"}"><li><a href="${"#"}" data-target="${"slide-out"}"><i class="${"material-icons"}">menu</i></a></li></ul>
    <a href="${"/"}" class="${"brand-logo left hide-on-large-only"}" style="${"margin-left: 1.75em;"}">${escape(name)}</a>
    <a href="${"/"}" class="${"brand-logo center hide-on-med-and-down"}">${escape(name)}</a>
    <ul class="${"right"}">${token
	? `<li><a href="${"/account"}" data-target="${"slide-out"}"><i class="${"material-icons"}">person</i></a></li>`
	: `<li><a href="${"/login"}" data-target="${"slide-out"}"><i class="${"material-icons"}">person</i></a></li>`}
      <li><a href="${"#"}" data-target="${"slide-out"}"><i class="${"material-icons"}">shopping_cart</i></a></li>
      <li><a href="${"#"}" data-target="${"slide-out"}"><i class="${"material-icons"}">search</i></a></li></ul>
    <ul id="${"nav-mobile"}" class="${"left hide-on-med-and-down"}">${each(items, item => `<li><a${add_attribute("href", item.url, 0)}>${escape(item.name)}</a></li>`)}</ul></div>
  ${extendNav
	? `<div class="${"nav-content"}"><ul class="${"tabs tabs-transparent"}">${each(subItems, item => `<li class="${"tab"}"><a${add_attribute("href", item.url, 0)}>${escape(item.name)}</a></li>`)}</ul></div>`
	: ``}</nav>


<ul id="${"main"}" class="${"sidenav"}"><li><h5 style="${"text-align: center;"}">${escape(name)}</h5></li>
  
  ${each(items, item => `<li class="${"waves-effect"}" style="${"width: 100%;"}"><a${add_attribute("href", item.url, 0)}>${escape(item.name)}</a></li>
    ${each(item.children, item => `<li class="${"waves-effect"}" style="${"width: 100%; padding-left: 1em;"}"><a${add_attribute("href", item.url, 0)}>${escape(item.name)}</a></li>`)}`)}</ul>

<ul id="${"person"}" class="${"sidenav"}"><li><h5 style="${"text-align: center;"}">person</h5></li></ul>

<ul id="${"cart"}" class="${"sidenav"}"><li><h5 style="${"text-align: center;"}">cart</h5></li></ul>

<ul id="${"search"}" class="${"sidenav"}"><li><h5 style="${"text-align: center;"}">search</h5></li></ul>`;
});

export default Navigation;
//# sourceMappingURL=Navigation.svelte.js.map
